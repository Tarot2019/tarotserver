<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>Hello</h1>
Field1: <input type="text" id="field1" value="Hello World!">
<br />
Field2: <input type="text" id="field2">
<br /><br />
点击下面的按钮，把 Field1 的内容拷贝到 Field2 中：
<br />
<button onclick="document.getElementById('field2').value=
document.getElementById('field1').value; onBridgeReady('a')">Copy Text</button>
</body>
<script>
    function onBridgeReady(data){
        if (typeof WeixinJSBridge === 'undefined') {
            alert('请使用微信内置浏览器进行支付');
        } else {
            WeixinJSBridge.invoke(
                'getBrandWCPayRequest',
                {
                    appId: data.appId, // 公众号名称，由商户传入
                    timeStamp: data.timeStamp, // 时间戳，自1970年以来的秒数
                    nonceStr: data.nonceStr, // 随机串
                    package: data.package,
                    signType: data.signType, // 微信签名方式：
                    paySign: data.paySign // 微信签名
                },
                res => {
                    if (res.err_msg === 'get_brand_wcpay_request:ok') {
                        alert('支付成功');
                        this.$router.push({path: '/videoplayer', query: { video_id: this.$route.query.video_id }}) // 支付成功之后跳转的路由
                    } else {
                        alert('支付失败');
                    }
                }
            )
        }
    };
</script>
</html>